"use strict";(self.webpackChunkjeremy_munroe=self.webpackChunkjeremy_munroe||[]).push([[422],{6798:function(e,t,r){r.d(t,{C:function(){return d}});var n=r(9439),a=r(3144),i=r(5671),o=r(136),u=r(9388),c=r(7462),s=r(9655),f=r(2791),l=function(e){(0,o.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).onBeforeCompile=function(e,t){var r=t.capabilities.isWebGL2;e.fragmentShader=e.fragmentShader.replace("#include <output_fragment>","\n        ".concat(r?"#include <output_fragment>":"#extension GL_OES_standard_derivatives : enable\n#include <output_fragment>","\n      vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n      float r = dot(cxy, cxy);\n      float delta = fwidth(r);     \n      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );\n      "))},n}return(0,a.Z)(r)}(s.PointsMaterial),d=f.forwardRef((function(e,t){var r=f.useState((function(){return new l(null)})),a=(0,n.Z)(r,1)[0];return f.createElement("primitive",(0,c.Z)({},e,{object:a,ref:t,attach:"material"}))}))},9642:function(e,t,r){r.d(t,{wo:function(){return j}});var n,a,i=r(3433),o=r(9439),u=r(5987),c=r(5671),s=r(3144),f=r(136),l=r(9388),d=r(7462),m=r(9655),h=r(2791),g=r(8369),p=r(3599),y=["children","range","limit"],b=["children","positions","colors","sizes","stride"],w=new m.Matrix4,v=new m.Ray,E=new m.Sphere,O=new m.Vector3,Z=(m.Group,h.createContext(null)),A=new m.Matrix4,D=new m.Vector3,x=h.forwardRef((function(e,t){var r=e.children,c=e.range,s=e.limit,f=void 0===s?1e3:s,l=(0,u.Z)(e,y),b=h.useRef(null),w=h.useState([]),v=(0,o.Z)(w,2),E=v[0],O=v[1],x=h.useState((function(){return[new Float32Array(3*f),Float32Array.from({length:3*f},(function(){return 1})),Float32Array.from({length:f},(function(){return 1}))]})),M=(0,o.Z)(x,1),j=(0,o.Z)(M[0],3),z=j[0],P=j[1],S=j[2];h.useEffect((function(){b.current.geometry.attributes.position.needsUpdate=!0})),(0,g.A)((function(){for(b.current.updateMatrix(),b.current.updateMatrixWorld(),A.copy(b.current.matrixWorld).invert(),b.current.geometry.drawRange.count=Math.min(f,void 0!==c?c:f,E.length),n=0;n<E.length;n++)(a=E[n].current).getWorldPosition(D).applyMatrix4(A),D.toArray(z,3*n),b.current.geometry.attributes.position.needsUpdate=!0,a.matrixWorldNeedsUpdate=!0,a.color.toArray(P,3*n),b.current.geometry.attributes.color.needsUpdate=!0,S.set([a.size],n),b.current.geometry.attributes.size.needsUpdate=!0}));var U=h.useMemo((function(){return{getParent:function(){return b},subscribe:function(e){return O((function(t){return[].concat((0,i.Z)(t),[e])})),function(){return O((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return h.createElement("points",(0,d.Z)({userData:{instances:E},matrixAutoUpdate:!1,ref:(0,p.Z)([t,b]),raycast:function(){return null}},l),h.createElement("bufferGeometry",null,h.createElement("bufferAttribute",{attach:"attributes-position",count:z.length/3,array:z,itemSize:3,usage:m.DynamicDrawUsage}),h.createElement("bufferAttribute",{attach:"attributes-color",count:P.length/3,array:P,itemSize:3,usage:m.DynamicDrawUsage}),h.createElement("bufferAttribute",{attach:"attributes-size",count:S.length,array:S,itemSize:1,usage:m.DynamicDrawUsage})),h.createElement(Z.Provider,{value:U},r))})),M=h.forwardRef((function(e,t){var r=e.children,n=e.positions,a=e.colors,i=e.sizes,o=e.stride,c=void 0===o?3:o,s=(0,u.Z)(e,b),f=h.useRef(null);return(0,g.A)((function(){var e=f.current.geometry.attributes;e.position.needsUpdate=!0,a&&(e.color.needsUpdate=!0),i&&(e.size.needsUpdate=!0)})),h.createElement("points",(0,d.Z)({ref:(0,p.Z)([t,f])},s),h.createElement("bufferGeometry",null,h.createElement("bufferAttribute",{attach:"attributes-position",count:n.length/c,array:n,itemSize:c,usage:m.DynamicDrawUsage}),a&&h.createElement("bufferAttribute",{attach:"attributes-color",count:a.length/c,array:a,itemSize:3,usage:m.DynamicDrawUsage}),i&&h.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/c,array:i,itemSize:1,usage:m.DynamicDrawUsage})),r)})),j=h.forwardRef((function(e,t){return e.positions instanceof Float32Array?h.createElement(M,(0,d.Z)({},e,{ref:t})):h.createElement(x,(0,d.Z)({},e,{ref:t}))}))},22:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{Qm:function(){return b}});var o=r(9655);new o.Vector2,new o.Vector2;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function e(t,r,a){var i=this;u(this,e),n(this,"dot2",(function(e,t){return i.x*e+i.y*t})),n(this,"dot3",(function(e,t,r){return i.x*e+i.y*t+i.z*r})),this.x=t,this.y=r,this.z=a},s=[new c(1,1,0),new c(-1,1,0),new c(1,-1,0),new c(-1,-1,0),new c(1,0,1),new c(-1,0,1),new c(1,0,-1),new c(-1,0,-1),new c(0,1,1),new c(0,-1,1),new c(0,1,-1),new c(0,-1,-1)],f=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],l=new Array(512),d=new Array(512),m=function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;r=1&t?f[t]^255&e:f[t]^e>>8&255,l[t]=l[t+256]=r,d[t]=d[t+256]=s[r%12]}};m(0);Math.sqrt(3),Math.sqrt(3),Math.PI;function h(e){var t=function(e){if("number"===typeof e)e=Math.abs(e);else if("string"===typeof e){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+(r+1)*(t.charCodeAt(r)%96))%2147483647}return 0===e&&(e=311),e}(e);return function(){var e=48271*t%2147483647;return t=e,e/2147483647}}var g=function e(t){var r=this;u(this,e),n(this,"seed",0),n(this,"init",(function(e){r.seed=e,r.value=h(e)})),n(this,"value",h(this.seed)),this.init(t)},p=new g(Math.random()),y={radius:1,center:[0,0,0]};function b(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,n=i(i({},y),t),a=n.radius,o=n.center,u=0;u<e.length;u+=3){var c=Math.pow(r.value(),1/3),s=2*r.value()-1,f=2*r.value()-1,l=2*r.value()-1,d=Math.sqrt(s*s+f*f+l*l);s=c*s/d,f=c*f/d,l=c*l/d,e[u]=s*a+o[0],e[u+1]=f*a+o[1],e[u+2]=l*a+o[2]}return e}},3599:function(e,t){t.Z=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}}}]);
//# sourceMappingURL=422.4cff9a70.chunk.js.map